<?xml version="1.0" encoding="UTF-8"?>

<?import java.lang.*?>
<?import javafx.collections.*?>
<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane stylesheets="@style.css" xmlns="http://javafx.com/javafx/17.0.12" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.SnapSeek.MainController">

    <!-- MenuBar at the top -->
    <top>
        <HBox alignment="CENTER_LEFT" prefWidth="100">
            <!-- Left half empty -->
            <Region HBox.hgrow="ALWAYS">
                <HBox.margin>
                    <Insets left="65" /> <!-- adjust this to move MenuBar further right -->
                </HBox.margin>
            </Region>

            <!-- Right half MenuBar -->
            <MenuBar HBox.hgrow="ALWAYS">

                <Menu text="Help">
                    <MenuItem text="About" />
                </Menu>
            </MenuBar>
        </HBox>
    </top>
    <center>
        <!-- HBox to split left and right halves -->
        <HBox prefHeight="400" prefWidth="600">
            <!-- Left half empty -->
            <Region HBox.hgrow="ALWAYS">
                <HBox.margin>
                    <Insets left="200" /> <!-- push right -->
                </HBox.margin>
            </Region>

            <!-- Right half -->
            <VBox alignment="CENTER" spacing="20" HBox.hgrow="ALWAYS">

                <!-- Search Image Section -->
                <HBox alignment="CENTER" spacing="10">
                    <TextField fx:id="searchField" prefHeight="40" prefWidth="350"
                               promptText="Search Image..."
                               style="-fx-background-radius: 20; -fx-border-radius: 20; -fx-padding: 0 10 0 10; -fx-font-size: 14pt;" />
                    <Button fx:id="searchButton" onAction="#handleSearch" text="Search" />
                </HBox>

                <!-- Folder Button -->
                <Button fx:id="folderButton" onAction="#handleSelectFolder" text="Select Folder" />

                <!-- Generate Caption Section (moved here just below search) -->
                <VBox alignment="CENTER" spacing="10">

                    <HBox alignment="CENTER" spacing="10">
                        <Button fx:id="selectImageButton" onAction="#handleSelectImage" text="Select Image" />
                        <ComboBox fx:id="captionTypeDropDown" prefWidth="150" promptText="Caption">
                            <items>
                                <FXCollections fx:factory="observableArrayList">
                                    <String fx:value="Funny" />
                                    <String fx:value="Love" />
                                    <String fx:value="Energetic" />
                                </FXCollections>
                            </items>
                        </ComboBox>
                        <Button fx:id="generateCaptionButton" onAction="#handleGenerateCaption" text="Generate" />
                    </HBox>
                    <TextArea fx:id="captionOutputArea"
                              prefHeight="40" minHeight="40" maxHeight="40"
                              prefWidth="180" minWidth="180" maxWidth="250"
                              promptText="Generated Caption"
                              wrapText="true"
                              editable="false"
                              style="-fx-background-radius: 20; -fx-border-radius: 20; -fx-padding: 0 10 0 10; -fx-font-size: 12pt;" />
                </VBox>

            </VBox>
        </HBox>
    </center>

    <bottom>
        <VBox fx:id="bottomResultsBox" maxHeight="200" spacing="5" BorderPane.alignment="CENTER">
            <padding>
                <Insets bottom="10" left="10" right="10" top="10" />
            </padding>
            <ScrollPane fitToWidth="true" style="-fx-background-color: transparent; -fx-border-color: transparent;">
                <FlowPane fx:id="resultsPane" alignment="CENTER" hgap="12" vgap="12" />
            </ScrollPane>
        </VBox>
    </bottom>

</BorderPane>
